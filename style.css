body {
  background: #111;
  color: white;
  font-family: sans-serif;
  text-align: center;
}

.card {
  background: #222;
  border: 2px solid #555;
  padding: 20px;
  margin: 15px auto;
  width: 300px;
  transition: transform 0.3s, background 0.3s;
}

.enemy {
  border-color: crimson;
}

.hit {
  background: crimson;
  transform: scale(1.05);
}

button {
  padding: 12px 20px;
  font-size: 18px;
  cursor: pointer;
}

#equipment {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin: 15px;
}

#equipped {
  display: flex;
  gap: 10px;
}
/* Equipped slots grid inside player info panel */
.equipped-slots{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-top: 8px;
}

/* Slot container centers its contents */
.equip-slot{
  min-height: 95px;
  border: 2px dashed #555;
  border-radius: 10px;
  padding: 8px;
  background: #141414;

  display: flex;
  align-items: center;
  justify-content: center;
}

/* Any slot spans full width (you already have this) */
.equip-slot-any{
  grid-column: 1 / -1;
}

/* Make the embedded “hand-card” look smaller in equipped slots */
.equip-slot .hand-card{
  width: 92%;
  max-width: 220px;
  font-size: 0.92em;
  line-height: 1.1;
  margin: 0;
  transform: scale(0.92);
  transform-origin: center;
}

/* Slightly reduce spacing inside the card when embedded */
.equip-slot .hand-card .description{
  display: block;
  margin-top: 4px;
  font-size: 0.9em;
  opacity: 0.9;
}

/* Empty slot label centered */
.equip-slot.empty::before{
  content: attr(data-placeholder);
  color: #888;
  font-size: 13px;
  text-align: center;
}



.slot {
  flex: 1;
  min-width: 120px;
  min-height: 80px;
  border: 2px dashed #aaa;
  padding: 8px;
  background-color: #222;
  color: white;
  text-align: center;
  font-size: 14px;
  border-radius: 6px;
}


.slot .card-name {
  font-weight: bold;
  margin-bottom: 4px;
}

.slot .stat {
  margin-bottom: 4px;
}

.slot .description {
  font-style: italic;
  font-size: 12px;
  color: #ccc;
  white-space: pre-line; /* handles \n from JSON */
}





.loot {
  cursor: grab;
  animation: dropIn 0.3s ease-out;
}

@keyframes dropIn {
  from {
    transform: translateY(-10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.screen.hidden {
  display: none;
}
body { margin: 0; }

.screen {
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: none;            /* hidden by default */
  background: #000;         /* or whatever */
  padding: 20px;
}

.screen.active {
  display: flex;
  flex-direction: column;
}

#classSelect {
  display: flex;
  flex-direction: column;
  height: 100vh;
  padding: 20px;
}

#classSelect h1 {
  text-align: center;
  margin-bottom: 20px;
  font-size: 32px;
}

#classes {
  flex: 1; /* take remaining space */
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-template-rows: repeat(2, 1fr);
  gap: 20px;

  width: 100%;
}

.class-card {
  position: relative;
  width: 100%;
  height: 100%;
  perspective: 1000px;
  cursor: pointer;
}

.class-card-inner {
  position: absolute;
  inset: 0;
  transform-style: preserve-3d;
  transition: transform 1.6s;

  transform: scale(0.8);
  pointer-events: none;
}

.class-card:hover .class-card-inner {
  transform: scale(0.9) rotateY(180deg);
}

.class-card-front,
.class-card-back {
  position: absolute;
  inset: 0;
  backface-visibility: hidden;

  border: 2px solid #666;
  border-radius: 12px;
  padding: 20px;
  background: #111;

  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}

.class-card-back {
  transform: rotateY(180deg);
  flex-direction: column;
  text-align: center;
}
.class-image {
  width: 100%;
  height: 100%;
  object-fit: contain;   /* use cover if you want edge-to-edge */
  border-radius: 10px;
  pointer-events: none; /* hover still works */
 
  object-fit: cover;
  pointer-events: none;
}





.class-card:hover {
  transform: scale(1.05);
}
#resetGame {
  margin-top: 15px;
  padding: 10px 20px;
  background: #aa2222;
  border: none;
  color: white;
  font-size: 16px;
  cursor: pointer;
  transition: background 0.2s;
}

#resetGame:hover {
  background: #ff4444;
}
#hand {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin: 10px 0;
}

.hand-card, .enemy-card {
  width: 160px;
  min-height: 90px;
  background: #333;
  border: 2px solid #555;
  padding: 8px;
  color: white;
  font-size: 14px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  cursor: pointer;
  transition: transform 0.2s, background 0.2s;
  margin: 5px;
}

.hand-card:hover, .enemy-card:hover {
  transform: scale(1.05);
  background: #444;
}

.hand-card .stat, .enemy-card .stat {
  color: #ffd700;
  font-weight: bold;
}

.hand-card .description, .enemy-card .description {
  font-size: 12px;
  font-style: italic;
  margin-top: 4px;
  text-align: center;
}

.hand-card.used {
  opacity: 0.5;
  cursor: default;
  transform: scale(0.95);
}

#enemy-container {
  display: flex;
  justify-content: center; /* center the enemy card horizontally */
  margin-bottom: 20px;
}

.enemy-card {
  width: 180px;
  min-height: 100px;
  background: #441111;
  border: 2px solid #aa4444;
  color: #fff;
  padding: 10px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  text-align: center;
  font-size: 14px;
}
#player-container {
  display: flex;
  justify-content: center; /* centers horizontally */
  margin-bottom: 20px;
}

.player-card {
  width: 180px;
  min-height: 120px;
  background: #113311;
  border: 2px solid #55aa55;
  color: #fff;
  padding: 10px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  text-align: center;
  font-size: 14px;
}


.player-card .stat {
  color: #ffd700;
  font-weight: bold;
}

.player-card .description {
  font-size: 12px;
  font-style: italic;
  margin-top: 4px;
}
/* FULLSCREEN overlay */
.overlay{
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;

  background: rgba(0,0,0,0.7);
  z-index: 99999;
}

/* Modal box */
.overlay-content{
  background: #222;
  border: 2px solid #555;
  border-radius: 12px;
  padding: 18px;
  width: min(520px, 92vw);
  max-height: 80vh;
  overflow: auto;
  color: #fff;
}

#discard-hand {
  display: flex;
  gap: 10px;
  margin-top: 10px;
}
.overlay.hidden {
  display: none;  /* Make sure the 'hidden' class actually hides it */
}

/* Screen base */
#gameScreen.screen.active {
  display: flex;
  flex-direction: column;
  height: 100vh;
  padding: 16px;
  background: #0a0a0a;
  color: #eee;
  box-sizing: border-box;
  gap: 12px;
}

/* Battlefield occupies most of screen */
#battlefield {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Two halves */
.half {
  flex: 1;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

/* Panels */
.panel {
  border: 2px solid #555;
  border-radius: 12px;
  background: rgba(20, 20, 20, 0.9);
  padding: 14px;
  box-sizing: border-box;
}

/* Info panel typography */
.info-panel .title {
  font-size: 22px;
  font-weight: 800;
  margin-bottom: 6px;
}

.info-panel .stats {
  font-size: 14px;
  opacity: 0.9;
  margin-bottom: 10px;
}

.info-panel .desc {
  font-size: 14px;
  line-height: 1.25;
  opacity: 0.95;
}

/* Sprite panel centers the "3D render" */
.sprite-panel {
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

/* Sprite container (works with div or img) */
.sprite {
  width: min(320px, 90%);
  height: min(260px, 90%);
  border-radius: 16px;

  /* fake 3D vibe */
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.08), transparent 60%),
              linear-gradient(135deg, rgba(255,255,255,0.05), rgba(0,0,0,0.35));
  border: 2px solid rgba(255,255,255,0.10);

  display: flex;
  align-items: center;
  justify-content: center;
  transform-style: preserve-3d;
}

/* If you use <img> inside sprite */
.sprite img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  pointer-events: none;
}

/* Different idle animations */
.monster-sprite {
  animation: monsterIdle 2.8s ease-in-out infinite;
}

.player-sprite {
  animation: playerIdle 3.2s ease-in-out infinite;
}

/* Slight “breathe” + tilt + bob */
@keyframes monsterIdle {
  0%   { transform: translateY(0px) rotateZ(-0.6deg) rotateY(7deg) scale(1); }
  50%  { transform: translateY(-6px) rotateZ(0.6deg) rotateY(-7deg) scale(1.02); }
  100% { transform: translateY(0px) rotateZ(-0.6deg) rotateY(7deg) scale(1); }
}

@keyframes playerIdle {
  0%   { transform: translateY(0px) rotateZ(0.6deg) rotateY(-7deg) scale(1); }
  50%  { transform: translateY(-5px) rotateZ(-0.6deg) rotateY(7deg) scale(1.02); }
  100% { transform: translateY(0px) rotateZ(0.6deg) rotateY(-7deg) scale(1); }
}

/* Hand area */
#handBar {
  height: 32vh;              /* bottom section */
  min-height: 220px;
  border: 2px solid #444;
  border-radius: 12px;
  padding: 10px;
  background: rgba(10,10,10,0.85);
  box-sizing: border-box;
}

#hand {
  height: 100%;
  display: flex;
  gap: 10px;
  align-items: flex-start;
  overflow-x: auto;
  padding-bottom: 6px;
}

/* Optional: keep cards a consistent size */
.card {
  min-width: 160px;
}
/* Base UI button */
.ui-btn {
  position: fixed;
  z-index: 1000;
  font-family: inherit;
  cursor: pointer;
  border-radius: 10px;
  border: 2px solid #777;
  background: #111;
  color: #eee;
  transition: transform 0.15s ease, background 0.15s ease;
}

.ui-btn:hover {
  background: #222;
  filter: brightness(1.15);
  box-shadow: 0 0 12px rgba(255,255,255,0.15);
}

/* ATTACK button */
.attack-btn {
  left: 16px;
  top: 50%;
  transform: translateY(-50%);
  padding: 14px 22px;
  font-size: 18px;
  font-weight: bold;
}

/* RESET button */
.reset-btn {
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  padding: 6px 12px;
  font-size: 12px;
  opacity: 0.75;
}

.reset-btn:hover {
  opacity: 1;
}
#playerGear {
  margin-top: 10px;
  padding-top: 8px;
  border-top: 1px solid rgba(255,255,255,0.15);
  font-size: 13px;
  opacity: 0.95;
}

#playerGear div {
  margin: 3px 0;
}

#gearAnyRow {
  display: none; /* only show for classless */
}
/* Base: make sure cards can host effects */
.hand-card, .enemy-card, .card, .loot {
  position: relative;
  overflow: hidden;
}

/* -------------------------
   COMMON (gray)
-------------------------- */
.rarity-common {
  background: linear-gradient(180deg, #2b2b2b, #1f1f1f);
  border: 2px solid #7a7a7a;
  color: #e8e8e8;
}

/* -------------------------
   RARE (blue, soft corners)
-------------------------- */
.rarity-rare {
  background: linear-gradient(180deg, #0c2a4a, #081a2f);
  border: 2px solid #2d8bff;
  border-radius: 18px; /* soft corners */
  box-shadow: 0 0 14px rgba(45, 139, 255, 0.22);
}

/* -------------------------
   EPIC (purple, square, readable)
-------------------------- */
.rarity-epic {
  background: linear-gradient(180deg, #2a0b3f, #14061f);
  border: 2px solid #b05cff;
  color: #f2eaff;

  /* square but not harsh */
  border-radius: 10px;

  box-shadow:
    0 0 12px rgba(176, 92, 255, 0.25),
    inset 0 0 0 rgba(255,255,255,0);

  position: relative;
  overflow: hidden;
}

/* Subtle magical pulse (does NOT affect layout) */
.rarity-epic::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 20% 30%, rgba(176,92,255,0.25), transparent 55%),
    radial-gradient(circle at 80% 70%, rgba(176,92,255,0.18), transparent 55%);
  opacity: 0;
  animation: epicPulse 2.6s ease-in-out infinite;
  pointer-events: none;
}

@keyframes epicPulse {
  0%   { opacity: 0.15; }
  50%  { opacity: 0.35; }
  100% { opacity: 0.15; }
}


/* -------------------------
   LEGENDARY (yellow, spiky border + sparkles on load)
-------------------------- */
.rarity-legendary {
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.12), transparent 55%),
              linear-gradient(180deg, #4a3a00, #201700);
  color: #fff3b0;

  border-radius: 10px;
  border: 2px solid rgba(255, 208, 0, 0.95);

  /* "spiky square" feel via clip-path */
  clip-path: polygon(
    6% 0%, 12% 6%, 20% 0%, 28% 6%, 36% 0%, 44% 6%, 52% 0%, 60% 6%, 68% 0%, 76% 6%, 84% 0%, 92% 6%, 100% 14%,
    94% 20%, 100% 28%, 94% 36%, 100% 44%, 94% 52%, 100% 60%, 94% 68%, 100% 76%, 94% 84%, 100% 92%,
    92% 100%, 84% 94%, 76% 100%, 68% 94%, 60% 100%, 52% 94%, 44% 100%, 36% 94%, 28% 100%, 20% 94%, 12% 100%, 6% 94%, 0% 86%,
    6% 80%, 0% 72%, 6% 64%, 0% 56%, 6% 48%, 0% 40%, 6% 32%, 0% 24%, 6% 16%
  );

  box-shadow: 0 0 18px rgba(255, 208, 0, 0.25);
}

/* Sparkly burst on load */
.rarity-legendary::before {
  content: "";
  position: absolute;
  inset: -30%;
  background:
    radial-gradient(circle, rgba(255,255,255,0.9) 0 2px, transparent 3px) 10% 20% / 80px 80px,
    radial-gradient(circle, rgba(255,255,255,0.8) 0 2px, transparent 3px) 70% 30% / 90px 90px,
    radial-gradient(circle, rgba(255,255,255,0.75) 0 2px, transparent 3px) 40% 80% / 110px 110px,
    radial-gradient(circle, rgba(255,255,255,0.7) 0 2px, transparent 3px) 85% 75% / 120px 120px;
  opacity: 0;
  transform: scale(0.95);
  animation: legendarySparkle 0.9s ease-out 1;
  pointer-events: none;
}

/* Shimmer pass */
.rarity-legendary::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.18) 45%, transparent 70%);
  transform: translateX(-120%);
  animation: legendaryShimmer 1.1s ease-out 1;
  pointer-events: none;
}
/* Loot card base */
.loot-card {
  position: relative;
  overflow: hidden;
  border-radius: 12px;
  border: 2px solid #666;
  padding: 10px;
  background: #222;
  animation: lootPop 220ms ease-out;
}

/* Pop-in */
@keyframes lootPop {
  from { transform: translateY(-6px) scale(0.98); opacity: 0; }
  to   { transform: translateY(0) scale(1); opacity: 1; }
}

/* Glow pulse */
.loot-glow {
  box-shadow: 0 0 0 rgba(255,255,255,0);
  animation: lootGlow 900ms ease-out 1;
}
@keyframes lootGlow {
  0%   { box-shadow: 0 0 0 rgba(255,255,255,0); }
  25%  { box-shadow: 0 0 22px var(--rarity-glow); }
  100% { box-shadow: 0 0 10px rgba(0,0,0,0); }
}

/* Rarity glow colors */
.loot-card.rarity-common     { --rarity-glow: rgba(160,160,160,0.55); border-color: #8a8a8a; }
.loot-card.rarity-rare       { --rarity-glow: rgba(45,139,255,0.60);  border-color: #2d8bff; }
.loot-card.rarity-epic       { --rarity-glow: rgba(176,92,255,0.60);  border-color: #b05cff; }
.loot-card.rarity-legendary  { --rarity-glow: rgba(255,208,0,0.65);   border-color: #ffd000; }


@keyframes legendarySparkle {
  0%   { opacity: 0; transform: scale(0.92) rotate(-6deg); }
  35%  { opacity: 1; }
  100% { opacity: 0; transform: scale(1.05) rotate(6deg); }
}
@keyframes legendaryShimmer {
  0%   { transform: translateX(-120%); opacity: 0; }
  30%  { opacity: 1; }
  100% { transform: translateX(120%); opacity: 0; }
}
@keyframes lootShimmer {
  0%   { transform: translateX(-120%); opacity: 0; }
  25%  { opacity: 1; }
  100% { transform: translateX(120%); opacity: 0; }
}
/* Helps transforms look smooth */
.sprite {
  will-change: transform;
}
.sprite img {
  user-select: none;
  -webkit-user-drag: none;
  pointer-events: none;
}
.sprite-name{
  font-weight: 700;
  margin-bottom: 6px;
  text-align: center;
  letter-spacing: 0.5px;
}

/* Force sprite panels to stack vertically */
#monsterSpritePanel,
#playerSpritePanel{
  display: flex;
  flex-direction: column;
  align-items: center;     /* center name + image + bar */
  justify-content: center;
  gap: 8px;
}

/* Make sure the sprite itself doesn't push layout sideways */
#monsterSprite,
#playerSprite{
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
}

/* The HP bar should be beneath image and wide */
.hpbar{
  width: 90%;
  max-width: none;         /* remove any cap so it can fill the panel */
  margin: 0 auto;          /* center it */
  height: 18px;
  background: #111;
  border: 2px solid #444;
  border-radius: 10px;
  position: relative;
  overflow: hidden;
}

.hpbar-fill{
  height: 100%;
  width: 0%;
  transition: width 500ms ease; /* was 200ms */
}

.hpbar-text{
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #000;
  font-weight: 800;
  font-size: 12px;
  pointer-events: none;
}

/* Battlefield takes the top 2/3-ish; handbar bottom 1/3 */
/* #gameScreen{
  height: 100vh;
  display: flex;
  flex-direction: column;
} */
/* Base screen behavior */
.screen { display: none; }

/* Only show active screen */
.screen.active { display: flex; }

/* Game screen layout ONLY when active */
#gameScreen.screen.active{
  height: 100vh;
  flex-direction: column;
}

#battlefield{
  flex: 2 1 0;
  display: flex;
  flex-direction: column;
  min-height: 0;           /* IMPORTANT: allow children to size properly */
}

#handBar{
  flex: 1 1 0;
  min-height: 0;
}

/* Top and bottom halves are equal height */
.half{
  flex: 1 1 0;
  display: flex;
  gap: 12px;               /* keep your spacing */
  min-height: 0;           /* IMPORTANT: prevent content from forcing height */
}

/* The two panels inside each half should be equal size */
.half .panel{
  flex: 1 1 0;
  min-height: 0;
  overflow: hidden;        /* prevents content from stretching the panel */
}

/* Keep sprite panel content stacked, but DO NOT let it change panel sizing */
#monsterSpritePanel,
#playerSpritePanel{
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
  height: 100%;            /* fill panel height */
  min-height: 0;
}

/* Sprite container fills remaining space so name + bar don’t squish layout */
#monsterSprite,
#playerSprite{
  flex: 1 1 auto;          /* take the remaining vertical space */
  min-height: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
}

/* HP bar stays under image, wide */
.hpbar{
  width: 90%;
  max-width: none;
  height: 18px;
  margin: 0 auto;
  flex: 0 0 auto;
}
.hpbar-text{
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;          /* ← white text */
  font-weight: 800;
  font-size: 12px;
  pointer-events: none;
}
.hand-title{
  font-size: 18px;
  font-weight: 700;
  text-align: center;
  margin-bottom: 8px;
  letter-spacing: 0.5px;
  color: #eee;
}
.hand-title::after{
  content: "";
  display: block;
  width: 120px;
  height: 2px;
  margin: 6px auto 0;
  background: linear-gradient(90deg, transparent, #666, transparent);
}
